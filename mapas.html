<!doctype html>
<html lang="pt-BR">

<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Previsão 15 dias - ECMWF</title>
        <style>
                @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap');

                body {
                        font-family: "Roboto", sans-serif;
                        margin: 0;
                        padding: 0;
                        background: #f7f7f7;
                }

                header {
                        text-align: center;
                        margin-bottom: 30px;
                        gap: 50px;
                        padding: 20px;
                }

                header h1 {
                        font-size: 24px;
                        margin-top: 30px;
                        margin-bottom: 10px;
                }

                header .btn-pagina-inicial {
                        text-decoration: none;
                        color: black;
                        background-color: rgb(236, 236, 236);
                        border-radius: 8px;
                        padding: 8px 16px;
                }

                /* VISOR (desktop) - mostra apenas 1 imagem com controles */
                .visor {
                        width: 90vw;
                        margin: 20px auto;
                        position: relative;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        gap: 12px;
                }

                .visor img {
                        height: 95vh;
                        border: 2px solid #000000;
                        border-radius: 12px;
                        display: block;
                        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                        background: white;
                }

                .controle {
                        background: rgba(0, 0, 0, 0.6);
                        color: white;
                        border: none;
                        padding: 10px 14px;
                        border-radius: 8px;
                        cursor: pointer;
                        font-size: 16px;
                        user-select: none;
                }

                .contador {
                        position: absolute;
                        top: 12px;
                        left: 12px;
                        color: white;
                        font-size: 16px;
                        background: rgba(0, 0, 0, 0.4);
                        padding: 6px 10px;
                        border-radius: 8px;
                }

                /* Miniaturas / galeria para celular (ou quando explicitamente visível) */
                #galeria {
                        display: none;
                        /* escondida no desktop */
                        width: 95vw;
                        margin: 12px auto 40px;
                        gap: 10px;
                }

                #galeria img {
                        width: 100%;
                        border: 2px solid #000000;
                        border-radius: 12px;
                        cursor: pointer;
                }

                /* LIGHTBOX - permanece disponível no desktop também se quiser ampliar */
                #lightbox {
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100vw;
                        height: 100vh;
                        background: rgba(0, 0, 0, 0.85);
                        display: none;
                        justify-content: center;
                        align-items: center;
                        z-index: 9999;
                        padding: 20px;
                        box-sizing: border-box;
                }

                #lightbox img {
                        max-height: 95vh;
                        max-width: 95vw;
                        border-radius: 8px;
                }

                .fechar {
                        position: absolute;
                        top: 18px;
                        right: 18px;
                        color: white;
                        font-size: 22px;
                        cursor: pointer;
                        background: rgba(0, 0, 0, 0.35);
                        padding: 6px 10px;
                        border-radius: 6px;
                }

                /* Responsivo: em telas pequenas, mostrar a grade de imagens (comportamento anterior) */
                @media (max-width:800px) {
                        .visor {
                                display: none;
                        }

                        #galeria {
                                display: grid;
                                grid-template-columns: 1fr;
                        }

                        #galeria img {
                                max-width: 100%;
                        }
                }
        </style>
</head>

<body>

        <!-- VISOR: Exibido por padrão em desktop - controles para navegar entre imagens -->
        <section class="visor" aria-label="Visualizador de mapas">
                <div class="contador" id="contador">1/16</div>
                <button class="controle" id="prev" aria-label="Anterior">◀</button>
                <img id="viewer" src="mapas/01.png" alt="Mapa dia 1">
                <button class="controle" id="next" aria-label="Próximo">▶</button>
        </section>

        <!-- GALERIA: exibida somente no celular -->
        <main id="galeria" aria-label="Galeria de mapas">
                <img src="mapas/01.png" data-index="0" alt="Mapa dia 1">
                <img src="mapas/02.png" data-index="1" alt="Mapa dia 2">
                <img src="mapas/03.png" data-index="2" alt="Mapa dia 3">
                <img src="mapas/04.png" data-index="3" alt="Mapa dia 4">
                <img src="mapas/05.png" data-index="4" alt="Mapa dia 5">
                <img src="mapas/06.png" data-index="5" alt="Mapa dia 6">
                <img src="mapas/07.png" data-index="6" alt="Mapa dia 7">
                <img src="mapas/08.png" data-index="7" alt="Mapa dia 8">
                <img src="mapas/09.png" data-index="8" alt="Mapa dia 9">
                <img src="mapas/10.png" data-index="9" alt="Mapa dia 10">
                <img src="mapas/11.png" data-index="10" alt="Mapa dia 11">
                <img src="mapas/12.png" data-index="11" alt="Mapa dia 12">
                <img src="mapas/13.png" data-index="12" alt="Mapa dia 13">
                <img src="mapas/14.png" data-index="13" alt="Mapa dia 14">
                <img src="mapas/15.png" data-index="14" alt="Mapa dia 15">
                <img src="mapas/acumulado-15-dias.png" data-index="15" alt="Acumulado 15 dias">
        </main>


        <script>
                const caminhos = [
                        'mapas/01.png', 'mapas/02.png', 'mapas/03.png', 'mapas/04.png', 'mapas/05.png', 'mapas/06.png',
                        'mapas/07.png', 'mapas/08.png', 'mapas/09.png', 'mapas/10.png', 'mapas/11.png', 'mapas/12.png',
                        'mapas/13.png', 'mapas/14.png', 'mapas/15.png', 'mapas/acumulado-15-dias.png'
                ];

                const viewer = document.getElementById('viewer');
                const prevBtn = document.getElementById('prev');
                const nextBtn = document.getElementById('next');
                const contador = document.getElementById('contador');

                let indexAtual = 0;

                function atualizarViewer(i) {
                        indexAtual = (i + caminhos.length) % caminhos.length;
                        viewer.src = caminhos[indexAtual];
                        contador.textContent = `${indexAtual + 1}/${caminhos.length}`;
                }

                prevBtn.addEventListener('click', () => atualizarViewer(indexAtual - 1));
                nextBtn.addEventListener('click', () => atualizarViewer(indexAtual + 1));

                // Navegação por teclado (desktop apenas)
                window.addEventListener('keydown', (e) => {
                        if (window.innerWidth > 800) {
                                if (e.key === 'ArrowLeft') atualizarViewer(indexAtual - 1);
                                if (e.key === 'ArrowRight') atualizarViewer(indexAtual + 1);
                        }
                });

                atualizarViewer(0);
        </script>
</body>

</html>